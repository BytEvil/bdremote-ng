#summary Wikified README.

= Introduction =

This is helper application for Sony BD Bluetooth Remote Control, which
allows to use this remote with LIRC.

This is a partial rewrite of bdremote 0.2, so it is easier to understand and maintain. Also, I could not get bdremote 0.2 to work on ubuntu. And it was not the most verbose application, so this one was created instead. Also, porting to a non-bluez bluetooth stack should be possible now. Bluetooth and LIRC/network handing has been seperated and one thread has been removed.

Why use this? Because using a PS3 remote as a HID device makes little sense to me (You have to instruct bluez to connect to it before you can use it. So it means that you need to have a script which continuously tries to connect to the remote. And you have to make the ps3 remote discoverable before the script will succeed.)  

= Compillation and installation =

For next instructions I assume that you already have installed 
and properly configured linux bluetooth stack
(at least bluez-libs and bluex-utils).

Type "make" in this directory and you'll get executable named "bdremoteng".
Copy this binary somewhere, for example to /usr/local/sbin.

= Usage =

At first you will have to obtain address of your remote.
Type in console "hciutil scan", then press "Start" and "Enter" buttons on 
remote simultaneously and hold for 5 seconds
you will see something like:
{{{
hostname # hcitool scan
Scanning ...
        00:19:C1:5A:F1:3F       BD Remote Control
hostname #

"00:19:C1:5A:F1:3F" is HW address of your remote.
}}}
then start "bdremoteng" as:
{{{
bdremoteng -a 00:19:C1:5A:F1:3F -n -d 1
}}}
(it should write some informative messages about what it is doing and not detach from the terminal it was started from)

you can give extra command-line parameters to "bdremoteng"
{{{
-p <port>            Set port number for incoming LIRCD connections.
                     Default is 8888.
-t <timeout>         Set disconnect timeout for BD remote (in minutes)
                     Default is 60. I guess that this should save batteries.
-a <address>         BT addres of remote.
                     For example: -a 00:19:C1:5A:F1:3F
-r <rate>            Key repeat rate. Generate <rate> repeats per
                     second, when key is pressed. Default is 10
-d <level>           Set debug output level. Default is 0.
}}}

This daemon acts as a remote LIRC server. 
In order to use remote with lirc you have to start LIRCD as follows:
{{{
lircd -H null --connect 127.0.0.1:8888
}}}

Keep in mind, if you manually compile lircd, you don't 
need to compile extra drivers, if you are going to use 
lircd only with this remote.


lircd will report remote name as "SonyBDRemote" 
( you need this only if you are going to use additional remote 
devices and write sophisticated .lircrc files. )

For list of defined keys look in "keys.txt" file.

NOTE: Connection with remote will be established only after you press 
some key on remote for first time after start of daemon and it can 
take some time, so result of first key press will be slightly delayed.

= Notes =

- Disable bluetooth auth and encryption. This application will not work
with those enabled.

- Start this application before you start bluez daemons.